<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>快速开始 | OP Stack Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logos/favicon.png">
    <link rel="alternate" type="application/atom+xml" href="https://stack.optimism.io/atom.xml" title="OP Stack Docs Atom Feed">
    <link rel="alternate" type="application/json" href="https://stack.optimism.io/feed.json" title="OP Stack Docs JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://stack.optimism.io/rss.xml" title="OP Stack Docs RSS Feed">
    <meta name="description" content="The OP Stack Docs">
    <meta property="og:url" content="/docs/build/getting-started.html">
    <meta property="og:site_name" content="OP Stack Docs">
    <meta property="og:title" content="快速开始">
    <meta property="og:description" content="请准备大约一小时的时间来正确运行所有内容，并仔细阅读指南。 您不想错过任何重要的步骤，可能会在后续过程中引起问题。 本教程专为开发人员设计，旨在通过启动一个OP Stack测试网络链来了解OP Stack的所有组件，并教授完整的部署过程。 您将拥有自己的OP Stack测试网络。 您可以使用此测试网络进行实验和测试，或者选择修改链以适应自己的需求。 OP S">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="OP Stack Docs">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta property="og:image" content="https://stack.optimism.io/assets/logos/twitter-logo.png">
    <meta name="twitter:image" content="https://stack.optimism.io/assets/logos/twitter-logo.png">
    <meta name="twitter:title" content="OP Stack Docs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.05d6b1d5.css" as="style"><link rel="preload" href="/assets/js/app.a10c3567.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.203bc08b.js" as="script"><link rel="preload" href="/assets/js/layout-Blog~layout-Layout~layout-NotFound.3f9ea462.js" as="script"><link rel="preload" href="/assets/js/page-快速开始.4118c74c.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.668d9695.js" as="script"><link rel="prefetch" href="/assets/js/41.f0f3702e.js"><link rel="prefetch" href="/assets/js/layout-Blog.a994568e.js"><link rel="prefetch" href="/assets/js/layout-NotFound.1ba9c6f7.js"><link rel="prefetch" href="/assets/js/layout-Slide.84c3cb7a.js"><link rel="prefetch" href="/assets/js/page-BedrockExplainer.94d12776.js"><link rel="prefetch" href="/assets/js/page-Bedrock与L1以太坊之间的差异.8cd91997.js"><link rel="prefetch" href="/assets/js/page-OPStackDocs.59efd7a5.js"><link rel="prefetch" href="/assets/js/page-OPStackHacks简介.f30301fb.js"><link rel="prefetch" href="/assets/js/page-OPStack代码库V1-Bedrock.3aa1884a.js"><link rel="prefetch" href="/assets/js/page-OPStack全貌.61392c30.js"><link rel="prefetch" href="/assets/js/page-Rollup操作.0d703b3b.js"><link rel="prefetch" href="/assets/js/page-Superchain解释器.89242b1c.js"><link rel="prefetch" href="/assets/js/page-WelcometotheOPStack.b8bd9ef7.js"><link rel="prefetch" href="/assets/js/page-为有用软件而设计的原则.2fc5fb96.js"><link rel="prefetch" href="/assets/js/page-从OPStack区块链中强制提取资产.9051bd64.js"><link rel="prefetch" href="/assets/js/page-使用OPStackClientSDK.b54e1490.js"><link rel="prefetch" href="/assets/js/page-使用OPStack进行构建.bdc6fc4a.js"><link rel="prefetch" href="/assets/js/page-修改预部署合约.c797a1aa.js"><link rel="prefetch" href="/assets/js/page-区块浏览器和索引器.c803de8a.js"><link rel="prefetch" href="/assets/js/page-发布历史.69ab2491.js"><link rel="prefetch" href="/assets/js/page-向派生函数添加属性.96209ab2.js"><link rel="prefetch" href="/assets/js/page-安全策略、漏洞报告和赏金计划.41700a4f.js"><link rel="prefetch" href="/assets/js/page-常见安全问题.4686caaa.js"><link rel="prefetch" href="/assets/js/page-常见的安全问题.12aaeb7b.js"><link rel="prefetch" href="/assets/js/page-执行技巧.afc3d4ed.js"><link rel="prefetch" href="/assets/js/page-数据可用性技巧.be17871a.js"><link rel="prefetch" href="/assets/js/page-暂停和恢复桥接.cd2944e7.js"><link rel="prefetch" href="/assets/js/page-添加一个预编译合约.8a6381b1.js"><link rel="prefetch" href="/assets/js/page-特色黑客技巧.dec0ea51.js"><link rel="prefetch" href="/assets/js/page-结算层技巧.9da9c0a8.js"><link rel="prefetch" href="/assets/js/page-衍生技巧.9334377a.js"><link rel="prefetch" href="/assets/js/page-贡献指南.da66b8ad.js"><link rel="prefetch" href="/assets/js/page-配置.fe26aa4e.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9346ec91.js"><link rel="prefetch" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.aa392ad9.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.b538c7ab.js">
    <link rel="stylesheet" href="/assets/css/0.styles.05d6b1d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/assets/logos/logo.png" alt="OP Stack Docs" class="logo"> <!----> <span class="site-name can-hide">OP Stack Docs</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><!----> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><label for="algolia-search-input" class="sr-only">Algolia search</label> <input id="algolia-search-input" placeholder="" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  OP Stack Docs
</a></div><div class="nav-item"><a href="https://community.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Optimism Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://community.optimism.io/docs/governance/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Governance
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title"><!---->
        Community
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="https://discord.optimism.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-discord color-discord"></i>
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-github color-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://twitter.com/optimismFND" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-twitter color-twitter"></i>
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://www.twitch.tv/optimismpbc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-twitch color-twitch"></i>
  Twitch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://optimismpbc.medium.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-medium color-medium"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://www.optimism.io/apps/all" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont far fa-computer-classic color-ecosystem"></i>
  Ecosystem
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><a href="https://www.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont far fa-globe color-optimism"></i>
  optimism.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="https://www.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  OP Stack Docs
</a></div><div class="nav-item"><a href="https://community.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Optimism Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://community.optimism.io/docs/governance/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Governance
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title"><!---->
      Community
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://discord.optimism.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-discord color-discord"></i>
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-github color-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/optimismFND" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-twitter color-twitter"></i>
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.twitch.tv/optimismpbc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-twitch color-twitch"></i>
  Twitch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://optimismpbc.medium.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont fab fa-medium color-medium"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.optimism.io/apps/all" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont far fa-computer-classic color-ecosystem"></i>
  Ecosystem
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.optimism.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont far fa-globe color-optimism"></i>
  optimism.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">OP Stack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Welcome to the OP Stack</a></li><li><a href="/docs/understand/design-principles/" class="sidebar-link">设计原则</a></li><li><a href="/docs/understand/landscape/" class="sidebar-link">OP Stack 全貌</a></li><li><a href="/docs/understand/explainer/" class="sidebar-link">Superchain解释器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Releases</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/releases/" class="sidebar-link">发布历史</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">Bedrock</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">Building OP Stack Rollups</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/build/getting-started/" aria-current="page" class="active sidebar-link">快速开始</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#我们将要部署的内容" class="sidebar-link">我们将要部署的内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#智能合约" class="sidebar-link heading3">智能合约</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#sequencer节点" class="sidebar-link heading3">Sequencer节点</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#批处理器" class="sidebar-link heading3">批处理器</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#提议者" class="sidebar-link heading3">提议者</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#软件依赖" class="sidebar-link">软件依赖</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#特定依赖项说明" class="sidebar-link heading3">特定依赖项说明</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#获取sepolia节点访问权限" class="sidebar-link">获取Sepolia节点访问权限</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#构建源代码" class="sidebar-link">构建源代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#构建optimism-monorepo" class="sidebar-link heading3">构建Optimism Monorepo</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#构建-op-geth" class="sidebar-link heading3">构建 op-geth</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#填写环境变量" class="sidebar-link">填写环境变量</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#生成账户" class="sidebar-link">生成账户</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#加载环境变量" class="sidebar-link">加载环境变量</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#配置您的网络" class="sidebar-link">配置您的网络</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#部署-l1-合约" class="sidebar-link">部署 L1 合约</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#生成-l2-配置文件" class="sidebar-link">生成 L2 配置文件</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#初始化-op-geth" class="sidebar-link">初始化 op-geth</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#启动-op-geth" class="sidebar-link">启动 op-geth</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#启动-op-node" class="sidebar-link">启动 op-node</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#启动-op-batcher" class="sidebar-link">启动 op-batcher</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#启动-op-proposer" class="sidebar-link">启动 op-proposer</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#连接您的钱包到您的链" class="sidebar-link">连接您的钱包到您的链</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#在您的链上获取-eth" class="sidebar-link">在您的链上获取 ETH</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#观察您的-rollup-运行" class="sidebar-link">观察您的 Rollup 运行</a></li><li class="sidebar-sub-header"><a href="/docs/build/getting-started/#下一步" class="sidebar-link">下一步</a></li></ul></li><li><a href="/docs/build/conf/" class="sidebar-link">配置</a></li><li><a href="/docs/build/operations/" class="sidebar-link">Rollup操作</a></li><li><a href="/docs/build/explorer/" class="sidebar-link">区块浏览器和索引器</a></li><li><a href="/docs/build/sdk/" class="sidebar-link">使用 OP Stack Client SDK</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><!----> <span class="title">OP Stack Hacks</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Contributing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/contribute/" class="sidebar-link">贡献指南</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Security</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/security/faq/" class="sidebar-link">常见安全问题</a></li><li><a href="/docs/security/policy/" class="sidebar-link">安全策略、漏洞报告和赏金计划</a></li><li><a href="/docs/security/pause/" class="sidebar-link">暂停和恢复桥接</a></li><li><a href="/docs/security/forced-withdrawal/" class="sidebar-link">从 OP Stack 区块链中强制提取资产</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><!----> <div class="content__page-top"></div> <nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/docs/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">OP Stack Docs</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a href="/docs/build/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">使用 OP Stack 进行构建</span></a> <meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/docs/build/getting-started/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">快速开始</span></a> <meta property="position" content="3"></li></ol></nav> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">快速开始</span></h1> <!----> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-header">On this page</div><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/docs/build/getting-started/#我们将要部署的内容" class="anchor-link heading2"><div>我们将要部署的内容</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#智能合约" class="anchor-link heading3"><div>智能合约</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#sequencer节点" class="anchor-link heading3"><div>Sequencer节点</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#批处理器" class="anchor-link heading3"><div>批处理器</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#提议者" class="anchor-link heading3"><div>提议者</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#软件依赖" class="anchor-link heading2"><div>软件依赖</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#特定依赖项说明" class="anchor-link heading3"><div>特定依赖项说明</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#获取sepolia节点访问权限" class="anchor-link heading2"><div>获取Sepolia节点访问权限</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#构建源代码" class="anchor-link heading2"><div>构建源代码</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#构建optimism-monorepo" class="anchor-link heading3"><div>构建Optimism Monorepo</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#构建-op-geth" class="anchor-link heading3"><div>构建 op-geth</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#填写环境变量" class="anchor-link heading2"><div>填写环境变量</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#生成账户" class="anchor-link heading2"><div>生成账户</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#加载环境变量" class="anchor-link heading2"><div>加载环境变量</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#配置您的网络" class="anchor-link heading2"><div>配置您的网络</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#部署-l1-合约" class="anchor-link heading2"><div>部署 L1 合约</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#生成-l2-配置文件" class="anchor-link heading2"><div>生成 L2 配置文件</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#初始化-op-geth" class="anchor-link heading2"><div>初始化 op-geth</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#启动-op-geth" class="anchor-link heading2"><div>启动 op-geth</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#启动-op-node" class="anchor-link heading2"><div>启动 op-node</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#启动-op-batcher" class="anchor-link heading2"><div>启动 op-batcher</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#启动-op-proposer" class="anchor-link heading2"><div>启动 op-proposer</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#连接您的钱包到您的链" class="anchor-link heading2"><div>连接您的钱包到您的链</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#在您的链上获取-eth" class="anchor-link heading2"><div>在您的链上获取 ETH</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#观察您的-rollup-运行" class="anchor-link heading2"><div>观察您的 Rollup 运行</div></a></li><li class="anchor"><a href="/docs/build/getting-started/#下一步" class="anchor-link heading2"><div>下一步</div></a></li></ul></div><div><div class="anchor-header anchor-support">Support</div><div class="anchor-support-links"><a href="https://discord.optimism.io" target="_blank"><div><i class="fab fa-discord"></i> Discord community</div></a><a href="https://forms.monday.com/forms/c867f3f357707ff1fb4af0d3d5080710?r=use1" target="_blank"><div><i class="far fa-comment-dots"></i> Get support for going live</div></a><a href="https://github.com/ethereum-optimism/optimism/issues" target="_blank"><div><i class="fab fa-github"></i> Make an issue on GitHub</div></a><a href="https://github.com/ethereum-optimism/optimism/contribute" target="_blank"><div><i class="far fa-hands-helping"></i> Contribute to Optimism</div></a></div></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>请<strong>准备大约一小时的时间</strong>来正确运行所有内容，并<strong>仔细阅读指南</strong>。
您不想错过任何重要的步骤，可能会在后续过程中引起问题。</p></div> <p>本教程<strong>专为开发人员设计</strong>，旨在通过启动一个OP Stack测试网络链来了解OP Stack的所有组件，并教授完整的部署过程。
您将拥有自己的OP Stack测试网络。</p> <p>您可以使用此测试网络进行实验和测试，或者选择修改链以适应自己的需求。
<strong>OP Stack是完全基于MIT许可的自由和开源软件</strong>。
您无需获得任何人的许可即可自由修改或部署堆栈的任何配置。</p> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>对OP Stack的修改可能会导致链无法从<a href="/op-stack/explainer">Optimism Superchain</a>的某些方面受益。
请务必查看<a href="/op-stack/explainer">Superchain Explainer</a>以了解更多信息。</p></div> <h2 id="我们将要部署的内容"><a href="#我们将要部署的内容" class="header-anchor">#</a> 我们将要部署的内容</h2> <p>在部署OP Stack链时，您将设置四个不同的组件。
在开始部署链之前，了解每个组件的功能非常有用。</p> <h3 id="智能合约"><a href="#智能合约" class="header-anchor">#</a> 智能合约</h3> <p>OP Stack使您能够部署自己的Rollup链，该链使用Layer 1区块链来托管和排序交易数据。
OP Stack链使用L1区块链上的多个智能合约来管理Rollup的各个方面。
每个OP Stack链在创建时部署自己的一组L1智能合约。
我们将使用<a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer">Optimism Monorepo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的<a href="https://github.com/ethereum-optimism/optimism/tree/develop/packages/contracts-bedrock" target="_blank" rel="noopener noreferrer"><code>contracts-bedrock</code>包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的L1智能合约。</p> <h3 id="sequencer节点"><a href="#sequencer节点" class="header-anchor">#</a> Sequencer节点</h3> <p>OP Stack链使用Sequencer节点从用户那里收集交易并将其发布到L1区块链。
原始（未修改的）OP Stack链依赖于至少一个这样的Sequencer节点，因此我们需要运行一个。
如果需要，您还可以运行其他非Sequencer节点（本教程不包括在内）。</p> <h4 id="共识客户端"><a href="#共识客户端" class="header-anchor">#</a> 共识客户端</h4> <p>OP Stack节点，就像以太坊节点一样，具有共识客户端。
共识客户端负责确定属于您的区块链的区块和交易的列表和顺序。
OP Stack共识客户端有多个实现，包括由OP Labs维护的<code>op-node</code>和由a16z维护的<a href="https://github.com/a16z/magi" target="_blank" rel="noopener noreferrer"><code>magi</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。
在本教程中，我们将使用<a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer">Optimism Monorepo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的<a href="https://github.com/ethereum-optimism/optimism/tree/develop/op-node" target="_blank" rel="noopener noreferrer"><code>op-node</code>实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="执行客户端"><a href="#执行客户端" class="header-anchor">#</a> 执行客户端</h4> <p>OP Stack节点，就像以太坊节点一样，还具有执行客户端。
执行客户端负责执行交易并存储/更新区块链的状态。
OP Stack执行客户端有多个实现，包括由OP Labs维护的<code>op-geth</code>，由Test in Prod维护的<a href="https://github.com/testinprod-io/op-erigon" target="_blank" rel="noopener noreferrer"><code>op-erigon</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和即将推出的<code>op-nethermind</code>。
在本教程中，我们将使用<a href="https://github.com/ethereum-optimism/op-geth" target="_blank" rel="noopener noreferrer"><code>op-geth</code>实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，该实现位于<a href="https://github.com/ethereum-optimism/op-geth" target="_blank" rel="noopener noreferrer"><code>op-geth</code>存储库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中。</p> <h3 id="批处理器"><a href="#批处理器" class="header-anchor">#</a> 批处理器</h3> <p>批处理器是从Sequencer到L1区块链发布交易的实体。
批处理器与Sequencer连续运行，并定期批量发布交易。
我们将使用<a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer">Optimism Monorepo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的<a href="https://github.com/ethereum-optimism/optimism/tree/develop/op-batcher" target="_blank" rel="noopener noreferrer"><code>op-batcher</code>实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>作为批处理器组件。</p> <h3 id="提议者"><a href="#提议者" class="header-anchor">#</a> 提议者</h3> <p>提议者是负责将交易<em>结果</em>（以L2状态根的形式）发布到L1区块链的实体。
这允许L1上的智能合约读取L2的状态，这对于跨链通信和用户提款是必要的。
未来可能会删除提议者，但目前它是OP Stack的必要组件。
我们将使用<a href="https://github.com/ethereum-optimism/optimism" target="_blank" rel="noopener noreferrer">Optimism Monorepo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的<a href="https://github.com/ethereum-optimism/optimism/tree/develop/op-proposer" target="_blank" rel="noopener noreferrer"><code>op-proposer</code>实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>作为提议者组件。</p> <h2 id="软件依赖"><a href="#软件依赖" class="header-anchor">#</a> 软件依赖</h2> <table><thead><tr><th>依赖项</th> <th>版本</th> <th>版本检查命令</th></tr></thead> <tbody><tr><td><a href="https://git-scm.com/" target="_blank" rel="noopener noreferrer">git<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^2</code></td> <td><code>git --version</code></td></tr> <tr><td><a href="https://go.dev/" target="_blank" rel="noopener noreferrer">go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^1.21</code></td> <td><code>go version</code></td></tr> <tr><td><a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">node<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^20</code></td> <td><code>node --version</code></td></tr> <tr><td><a href="https://pnpm.io/installation" target="_blank" rel="noopener noreferrer">pnpm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^8</code></td> <td><code>pnpm --version</code></td></tr> <tr><td><a href="https://github.com/foundry-rs/foundry#installation" target="_blank" rel="noopener noreferrer">foundry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^0.2.0</code></td> <td><code>forge --version</code></td></tr> <tr><td><a href="https://linux.die.net/man/1/make" target="_blank" rel="noopener noreferrer">make<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^4</code></td> <td><code>make --version</code></td></tr> <tr><td><a href="https://github.com/jqlang/jq" target="_blank" rel="noopener noreferrer">jq<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^1.6</code></td> <td><code>jq --version</code></td></tr> <tr><td><a href="https://direnv.net" target="_blank" rel="noopener noreferrer">direnv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>^2</code></td> <td><code>direnv --version</code></td></tr></tbody></table> <h3 id="特定依赖项说明"><a href="#特定依赖项说明" class="header-anchor">#</a> 特定依赖项说明</h3> <h4 id="node"><a href="#node" class="header-anchor">#</a> <code>node</code></h4> <p>我们建议使用最新的LTS版本的Node.js（目前为v20）。
<a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer"><code>nvm</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个有用的工具，可以帮助您在计算机上管理多个Node.js版本。
在旧版本的Node.js上可能会遇到意外错误。</p> <h4 id="direnv"><a href="#direnv" class="header-anchor">#</a> <code>direnv</code></h4> <p>本教程的部分内容使用<a href="https://direnv.net" target="_blank" rel="noopener noreferrer"><code>direnv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来从<code>.envrc</code>文件中加载环境变量到您的shell中。
这意味着您无需每次使用环境变量时都手动导出它们。
<code>direnv</code>只能访问您明确允许其查看的文件。</p> <p>在<a href="https://direnv.net/docs/installation.html" target="_blank" rel="noopener noreferrer">安装<code>direnv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>之后，您需要<strong>确保<a href="https://direnv.net/docs/hook.html" target="_blank" rel="noopener noreferrer"><code>direnv</code>已连接到您的shell<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>。
Make sure you've followed <a href="https://direnv.net/docs/hook.html" target="_blank" rel="noopener noreferrer">the guide on the <code>direnv</code> website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, then <strong>close your terminal and reopen it</strong> so that the changes take effect (or <code>source</code> your config file if you know how to do that).</p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>确保您已正确将<code>direnv</code>连接到您的shell，通过修改您的shell配置文件（如<code>~/.bashrc</code>或<code>~/.zshrc</code>）。
如果您没有编辑配置文件，那么您可能没有正确配置<code>direnv</code>（并且后续可能无法正常工作）。</p></div> <h2 id="获取sepolia节点访问权限"><a href="#获取sepolia节点访问权限" class="header-anchor">#</a> 获取Sepolia节点访问权限</h2> <p>我们将部署一个使用Layer 1区块链来托管和排序交易数据的OP Stack Rollup链。
OP Stack Rollup旨在使用EVM等效的区块链，如以太坊、OP Mainnet或标准以太坊测试网络作为它们的L1链。</p> <p><strong>本指南使用Sepolia测试网络作为L1链</strong>。
我们建议您也使用Sepolia。
您也可以使用其他兼容EVM的区块链，但可能会遇到意外错误。
如果您想使用其他网络，请仔细检查每个命令，并将任何Sepolia特定的值替换为您网络的值。</p> <p>由于我们将部署OP Stack链到Sepolia，您需要访问Sepolia节点。
您可以使用类似<a href="https://www.alchemy.com/" target="_blank" rel="noopener noreferrer">Alchemy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的节点提供商（更简单），或者运行自己的Sepolia节点（更困难）。</p> <h2 id="构建源代码"><a href="#构建源代码" class="header-anchor">#</a> 构建源代码</h2> <p>我们将直接从源代码启动OP Stack链，而不是使用像<a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>这样的容器系统。
尽管这增加了一些额外的步骤，但这意味着如果您想修改堆栈的行为，您将更容易做到。
如果您想了解我们将使用的各个组件的摘要，请再次查看上面的<a href="#what-were-going-to-deploy">我们将部署什么</a>部分。</p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>为了简单起见，本教程将使用主目录<code>~/</code>作为工作目录。
您可以使用任何目录，但使用主目录将使您能够复制/粘贴本指南中的命令。
如果选择使用其他目录，请确保在本教程的所有命令中使用正确的目录。</p></div> <h3 id="构建optimism-monorepo"><a href="#构建optimism-monorepo" class="header-anchor">#</a> 构建Optimism Monorepo</h3> <h4 id="_1-克隆optimism-monorepo"><a href="#_1-克隆optimism-monorepo" class="header-anchor">#</a> 1. 克隆Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone https://github.com/ethereum-optimism/optimism.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-进入optimism-monorepo"><a href="#_2-进入optimism-monorepo" class="header-anchor">#</a> 2. 进入Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> optimism
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-检查依赖项"><a href="#_3-检查依赖项" class="header-anchor">#</a> 3. 检查依赖项</h4> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>不要跳过这一步！在继续之前，请确保您已安装所有所需的依赖项。</p></div> <p>运行以下脚本，并仔细检查您是否已安装了所有所需的版本。
如果您没有安装正确的版本，可能会遇到意外错误。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./packages/contracts-bedrock/scripts/getting-started/versions.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_4-安装依赖"><a href="#_4-安装依赖" class="header-anchor">#</a> 4. 安装依赖</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_5-在-optimism-monorepo-中构建各个包。"><a href="#_5-在-optimism-monorepo-中构建各个包。" class="header-anchor">#</a> 5. 在 Optimism Monorepo 中构建各个包。</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> op-node op-batcher op-proposer
<span class="token function">pnpm</span> build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="构建-op-geth"><a href="#构建-op-geth" class="header-anchor">#</a> 构建 <code>op-geth</code></h3> <h4 id="_1-克隆-op-geth"><a href="#_1-克隆-op-geth" class="header-anchor">#</a> 1. 克隆 op-geth</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone https://github.com/ethereum-optimism/op-geth.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-进入-op-geth-目录"><a href="#_2-进入-op-geth-目录" class="header-anchor">#</a> 2. 进入 op-geth 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> op-geth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-构建-op-geth"><a href="#_3-构建-op-geth" class="header-anchor">#</a> 3. 构建 op-geth</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> geth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="填写环境变量"><a href="#填写环境变量" class="header-anchor">#</a> 填写环境变量</h2> <p>在我们开始部署链之前，您需要填写一些环境变量。</p> <h4 id="_1-进入-optimism-monorepo"><a href="#_1-进入-optimism-monorepo" class="header-anchor">#</a> 1. 进入 Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-复制示例环境变量文件"><a href="#_2-复制示例环境变量文件" class="header-anchor">#</a> 2. 复制示例环境变量文件</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> .envrc.example .envrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-填写环境变量文件"><a href="#_3-填写环境变量文件" class="header-anchor">#</a> 3. 填写环境变量文件</h4> <p>打开环境变量文件并填写以下变量：</p> <table><thead><tr><th>变量名称</th> <th>描述</th></tr></thead> <tbody><tr><td><code>L1_RPC_URL</code></td> <td>L1节点的URL（在本例中为Sepolia节点）。</td></tr> <tr><td><code>L1_RPC_KIND</code></td> <td>连接的L1 RPC的类型，用于获取最佳的交易收据。有效选项：<code>alchemy</code>、<code>quicknode</code>、<code>infura</code>、<code>parity</code>、<code>nethermind</code>、<code>debug_geth</code>、<code>erigon</code>、<code>basic</code>、<code>any</code>。</td></tr></tbody></table> <h2 id="生成账户"><a href="#生成账户" class="header-anchor">#</a> 生成账户</h2> <p>在设置链时，您将需要四个账户及其私钥：</p> <ul><li><code>Admin</code>账户具有升级合约的能力。</li> <li><code>Batcher</code>账户将Sequencer事务数据发布到L1。</li> <li><code>Proposer</code>账户将L2事务结果（状态根）发布到L1。</li> <li><code>Sequencer</code>账户在p2p网络上签署区块。</li></ul> <h4 id="_1-进入optimism-monorepo"><a href="#_1-进入optimism-monorepo" class="header-anchor">#</a> 1. 进入Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-生成新的账户"><a href="#_2-生成新的账户" class="header-anchor">#</a> 2. 生成新的账户</h4> <div class="custom-block danger"><p class="custom-block-title">Warning</p> <p>对于生产环境的部署，您不应该使用 <code>wallets.sh</code> 工具。
如果您要将基于 OP Stack 的链部署到生产环境中，您应该使用硬件安全模块和硬件钱包的组合。</p></div> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./packages/contracts-bedrock/scripts/getting-started/wallets.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-检查输出"><a href="#_3-检查输出" class="header-anchor">#</a> 3. 检查输出</h4> <p>确保您看到类似以下内容的输出：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>Copy the following into your .envrc file:
 
# Admin account
export GS_ADMIN_ADDRESS=0x9625B9aF7C42b4Ab7f2C437dbc4ee749d52E19FC
export GS_ADMIN_PRIVATE_KEY=0xbb93a75f64c57c6f464fd259ea37c2d4694110df57b2e293db8226a502b30a34
 
# Batcher account
export GS_BATCHER_ADDRESS=0xa1AEF4C07AB21E39c37F05466b872094edcf9cB1
export GS_BATCHER_PRIVATE_KEY=0xe4d9cd91a3e53853b7ea0dad275efdb5173666720b1100866fb2d89757ca9c5a
 
# Proposer account
export GS_PROPOSER_ADDRESS=0x40E805e252D0Ee3D587b68736544dEfB419F351b
export GS_PROPOSER_PRIVATE_KEY=0x2d1f265683ebe37d960c67df03a378f79a7859038c6d634a61e40776d561f8a2
 
# Sequencer account
export GS_SEQUENCER_ADDRESS=0xC06566E8Ec6cF81B4B26376880dB620d83d50Dfb
export GS_SEQUENCER_PRIVATE_KEY=0x2a0290473f3838dbd083a5e17783e3cc33c905539c0121f9c76614dda8a38dca
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_4-保存账户"><a href="#_4-保存账户" class="header-anchor">#</a> 4. 保存账户</h4> <p>将上一步的输出复制并按照指示粘贴到您的 <code>.envrc</code> 文件中。</p> <h4 id="_5-给账户充值"><a href="#_5-给账户充值" class="header-anchor">#</a> 5. 给账户充值</h4> <p><strong>您需要向 <code>Admin</code>、<code>Proposer</code> 和 <code>Batcher</code> 账户发送 ETH。</strong>
所需的 ETH 金额取决于使用的 L1 网络。
<strong>您无需向 <code>Sequencer</code> 账户发送任何 ETH，因为它不发送交易。</strong></p> <p>我们建议在使用 Sepolia 时，按照以下金额给账户充值：</p> <ul><li><code>Admin</code> — 0.2 ETH</li> <li><code>Proposer</code> — 0.2 ETH</li> <li><code>Batcher</code> — 0.1 ETH</li></ul> <h2 id="加载环境变量"><a href="#加载环境变量" class="header-anchor">#</a> 加载环境变量</h2> <p>现在我们已经填写了环境变量文件，我们需要将这些变量加载到我们的终端中。</p> <h4 id="_1-进入-optimism-monorepo-2"><a href="#_1-进入-optimism-monorepo-2" class="header-anchor">#</a> 1. 进入 Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-使用-direnv-加载这些变量。"><a href="#_2-使用-direnv-加载这些变量。" class="header-anchor">#</a> 2. 使用 direnv 加载这些变量。</h4> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>我们将使用 <code>direnv</code> 来将环境变量从 <code>.envrc</code> 文件加载到我们的终端中。
请确保您已经<a href="https://direnv.net/docs/installation.html" target="_blank" rel="noopener noreferrer">安装了 <code>direnv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，并且已经正确地<a href="#configuring-direnv">将 <code>direnv</code> 集成到您的 shell</a>中。</p></div> <p>接下来，您需要使用以下命令允许 <code>direnv</code> 读取此文件并将变量加载到您的终端中。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>direnv allow
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">Note</p> <p>警告：每当您的 <code>.envrc</code> 文件发生更改时，<code>direnv</code> 将自动卸载自身。
<strong>您必须每次更改 <code>.envrc</code> 文件后重新运行以下命令。</strong></p></div> <h4 id="_3-确认变量已加载"><a href="#_3-确认变量已加载" class="header-anchor">#</a> 3. 确认变量已加载</h4> <p>运行 <code>direnv allow</code> 后，您应该看到类似以下内容的输出（实际输出会根据您设置的变量而有所不同，如果不完全相同也不用担心）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>direnv: loading ~/optimism/.envrc                                                            
direnv: <span class="token builtin class-name">export</span> +DEPLOYMENT_CONTEXT +ETHERSCAN_API_KEY +GS_ADMIN_ADDRESS +GS_ADMIN_PRIVATE_KEY +GS_BATCHER_ADDRESS +GS_BATCHER_PRIVATE_KEY +GS_PROPOSER_ADDRESS +GS_PROPOSER_PRIVATE_KEY +GS_SEQUENCER_ADDRESS +GS_SEQUENCER_PRIVATE_KEY +IMPL_SALT +L1_RPC_KIND +L1_RPC_URL +PRIVATE_KEY +TENDERLY_PROJECT +TENDERLY_USERNAME
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>如果您没有看到这个输出，那么您可能没有<a href="#configuring-direnv">正确配置<code>direnv</code></a>。</strong>
请确保您已经正确配置了<code>direnv</code>并再次运行<code>direnv allow</code>，以便看到所需的输出。</p> <h2 id="配置您的网络"><a href="#配置您的网络" class="header-anchor">#</a> 配置您的网络</h2> <p>一旦您构建了这两个存储库，您将需要返回到 Optimism Monorepo 来设置链的配置文件。
目前，链的配置文件位于 <a href="https://github.com/ethereum-optimism/optimism/tree/129032f15b76b0d2a940443a39433de931a97a44/packages/contracts-bedrock" target="_blank" rel="noopener noreferrer"><code>contracts-bedrock</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 包中，以 JSON 文件的形式存在。</p> <h4 id="_1-进入-optimism-monorepo-3"><a href="#_1-进入-optimism-monorepo-3" class="header-anchor">#</a> 1. 进入 Optimism Monorepo</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-进入-contracts-bedrock-包"><a href="#_2-进入-contracts-bedrock-包" class="header-anchor">#</a> 2. 进入 contracts-bedrock 包</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> packages/contracts-bedrock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-生成配置文件"><a href="#_3-生成配置文件" class="header-anchor">#</a> 3. 生成配置文件</h4> <p>运行以下脚本，在 <code>deploy-config</code> 目录下生成 <code>getting-started.json</code> 配置文件。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./scripts/getting-started/config.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_4-查看配置文件-可选"><a href="#_4-查看配置文件-可选" class="header-anchor">#</a> 4. 查看配置文件（可选）</h4> <p>如果您愿意，您可以通过在您喜欢的文本编辑器中打开 <code>deploy-config/getting-started.json</code> 来查看刚刚生成的配置文件。
我们建议您暂时保持此文件不变，以避免遇到任何意外错误。</p> <h2 id="部署-l1-合约"><a href="#部署-l1-合约" class="header-anchor">#</a> 部署 L1 合约</h2> <p>一旦您配置了网络，就可以部署链的功能所必需的 L1 合约。</p> <h4 id="_1-部署-l1-合约"><a href="#_1-部署-l1-合约" class="header-anchor">#</a> 1. 部署 L1 合约</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>forge script scripts/Deploy.s.sol:Deploy --private-key <span class="token variable">$GS_ADMIN_PRIVATE_KEY</span> --broadcast --rpc-url <span class="token variable">$L1_RPC_URL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">Note</p> <p>如果您看到一个包含 <code>EvmError: Revert</code> 和 <code>Script failed</code> 的不明确的错误，那么您可能需要更改 <code>IMPL_SALT</code> 环境变量。
这个变量确定了通过 <a href="https://eips.ethereum.org/EIPS/eip-1014" target="_blank" rel="noopener noreferrer">CREATE2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 部署的各种智能合约的地址。
如果使用相同的 <code>IMPL_SALT</code> 部署相同的合约两次，第二次部署将失败。
<strong>您可以通过在 Optimism Monorepo 的任何位置运行 <code>direnv allow</code> 来生成一个新的 <code>IMPL_SALT</code>。</strong></p></div> <h4 id="_2-生成合约构件"><a href="#_2-生成合约构件" class="header-anchor">#</a> 2. 生成合约构件</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>forge script scripts/Deploy.s.sol:Deploy --sig <span class="token string">'sync()'</span> --rpc-url <span class="token variable">$L1_RPC_URL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="生成-l2-配置文件"><a href="#生成-l2-配置文件" class="header-anchor">#</a> 生成 L2 配置文件</h2> <p>现在我们已经设置了 L1 智能合约，我们可以自动生成用于共识客户端和执行客户端的几个配置文件。</p> <p>我们需要生成三个重要的文件：</p> <ol><li><code>genesis.json</code> 包含执行客户端的创世状态链。</li> <li><code>rollup.json</code> 包含共识客户端的配置信息。</li> <li><code>jwt.txt</code> 是一个 <a href="https://jwt.io/introduction" target="_blank" rel="noopener noreferrer">JSON Web Token<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，用于确保只有共识客户端和执行客户端之间可以进行通信。
您可以使用以下命令生成 JWT：</li></ol> <h4 id="_1-进入-op-node-包"><a href="#_1-进入-op-node-包" class="header-anchor">#</a> 1. 进入 op-node 包</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism/op-node
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-创建创世文件"><a href="#_2-创建创世文件" class="header-anchor">#</a> 2. 创建创世文件</h4> <p>现在我们将在 <code>op-node</code> 文件夹中生成 <code>genesis.json</code> 和 <code>rollup.json</code> 文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>go run cmd/main.go genesis l2 <span class="token punctuation">\</span>
    --deploy-config <span class="token punctuation">..</span>/packages/contracts-bedrock/deploy-config/getting-started.json <span class="token punctuation">\</span>
    --deployment-dir <span class="token punctuation">..</span>/packages/contracts-bedrock/deployments/getting-started/ <span class="token punctuation">\</span>
    --outfile.l2 genesis.json <span class="token punctuation">\</span>
    --outfile.rollup rollup.json <span class="token punctuation">\</span>
    --l1-rpc <span class="token variable">$L1_RPC_URL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-创建身份验证密钥"><a href="#_3-创建身份验证密钥" class="header-anchor">#</a> 3. 创建身份验证密钥</h4> <p>接下来，您将创建一个 <a href="https://jwt.io/introduction" target="_blank" rel="noopener noreferrer">JSON Web Token<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，用于对共识客户端和执行客户端进行身份验证。
该令牌用于确保只有共识客户端和执行客户端之间可以进行通信。
您可以使用以下命令生成 JWT：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>openssl rand -hex <span class="token number">32</span> <span class="token operator">&gt;</span> jwt.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_4-将创世文件复制到-op-geth-目录中"><a href="#_4-将创世文件复制到-op-geth-目录中" class="header-anchor">#</a> 4. 将创世文件复制到 op-geth 目录中</h4> <p>最后，我们需要将 <code>genesis.json</code> 文件和 <code>jwt.txt</code> 文件复制到 <code>op-geth</code> 目录中，以便我们可以用它来初始化和运行 <code>op-geth</code>：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> genesis.json ~/op-geth
<span class="token function">cp</span> jwt.txt ~/op-geth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="初始化-op-geth"><a href="#初始化-op-geth" class="header-anchor">#</a> 初始化 <code>op-geth</code></h2> <p>我们即将准备好运行我们的链！
现在我们只需要运行几个命令来初始化 <code>op-geth</code>。
我们将运行一个 Sequencer 节点，所以我们需要导入之前生成的 <code>Sequencer</code> 私钥。
这个私钥将用于我们的 Sequencer 签署新的区块。</p> <h4 id="_1-进入-op-geth-目录"><a href="#_1-进入-op-geth-目录" class="header-anchor">#</a> 1. 进入 op-geth 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/op-geth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-创建一个数据目录文件夹"><a href="#_2-创建一个数据目录文件夹" class="header-anchor">#</a> 2. 创建一个数据目录文件夹</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> datadir
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-初始化-op-geth"><a href="#_3-初始化-op-geth" class="header-anchor">#</a> 3. 初始化 <code>op-geth</code></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>build/bin/geth init --datadir<span class="token operator">=</span>datadir genesis.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="启动-op-geth"><a href="#启动-op-geth" class="header-anchor">#</a> 启动 <code>op-geth</code></h2> <p>现在我们将启动 <code>op-geth</code>，我们的执行客户端。
请注意，在下一步启动共识客户端之前，您不会看到任何交易。</p> <h4 id="_1-打开一个新的终端"><a href="#_1-打开一个新的终端" class="header-anchor">#</a> 1. 打开一个新的终端</h4> <p>我们需要一个终端窗口来运行 <code>op-geth</code>。</p> <h4 id="_2-切换到-op-geth-目录"><a href="#_2-切换到-op-geth-目录" class="header-anchor">#</a> 2. 切换到 op-geth 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/op-geth
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-运行-op-geth"><a href="#_3-运行-op-geth" class="header-anchor">#</a> 3. 运行 op-geth</h4> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>在这里我们使用 <code>--gcmode=archive</code> 来运行 <code>op-geth</code>，因为这个节点将充当我们的 Sequencer。
在归档模式下运行 Sequencer 是有用的，因为 <code>op-proposer</code> 需要访问完整的状态。
如果您想节省磁盘空间，可以随意在其他（非 Sequencer）节点上运行全模式。</p></div> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./build/bin/geth <span class="token punctuation">\</span>
    --datadir ./datadir <span class="token punctuation">\</span>
    --http <span class="token punctuation">\</span>
    --http.corsdomain<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> <span class="token punctuation">\</span>
    --http.vhosts<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> <span class="token punctuation">\</span>
    --http.addr<span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token punctuation">\</span>
    --http.api<span class="token operator">=</span>web3,debug,eth,txpool,net,engine <span class="token punctuation">\</span>
    --ws <span class="token punctuation">\</span>
    --ws.addr<span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token punctuation">\</span>
    --ws.port<span class="token operator">=</span><span class="token number">8546</span> <span class="token punctuation">\</span>
    --ws.origins<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> <span class="token punctuation">\</span>
    --ws.api<span class="token operator">=</span>debug,eth,txpool,net,engine <span class="token punctuation">\</span>
    --syncmode<span class="token operator">=</span>full <span class="token punctuation">\</span>
    --gcmode<span class="token operator">=</span>archive <span class="token punctuation">\</span>
    --nodiscover <span class="token punctuation">\</span>
    --maxpeers<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">\</span>
    --networkid<span class="token operator">=</span><span class="token number">42069</span> <span class="token punctuation">\</span>
    --authrpc.vhosts<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> <span class="token punctuation">\</span>
    --authrpc.addr<span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token punctuation">\</span>
    --authrpc.port<span class="token operator">=</span><span class="token number">8551</span> <span class="token punctuation">\</span>
    --authrpc.jwtsecret<span class="token operator">=</span>./jwt.txt <span class="token punctuation">\</span>
    --rollup.disabletxpoolgossip<span class="token operator">=</span>true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="启动-op-node"><a href="#启动-op-node" class="header-anchor">#</a> 启动 <code>op-node</code></h2> <p>一旦我们成功运行了 <code>op-geth</code>，我们需要运行 <code>op-node</code>。
与以太坊类似，OP Stack 有一个共识客户端（<code>op-node</code>）和一个执行客户端（<code>op-geth</code>）。
共识客户端通过 Engine API &quot;驱动&quot; 执行客户端。</p> <h4 id="_1-打开一个新的终端-2"><a href="#_1-打开一个新的终端-2" class="header-anchor">#</a> 1. 打开一个新的终端</h4> <p>我们需要一个终端窗口来运行 <code>op-node</code>。</p> <h4 id="_2-切换到-op-node-目录"><a href="#_2-切换到-op-node-目录" class="header-anchor">#</a> 2. 切换到 op-node 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism/op-node
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-运行-op-node"><a href="#_3-运行-op-node" class="header-anchor">#</a> 3. 运行 op-node</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/op-node <span class="token punctuation">\</span>
	--l2<span class="token operator">=</span>http://localhost:8551 <span class="token punctuation">\</span>
	--l2.jwt-secret<span class="token operator">=</span>./jwt.txt <span class="token punctuation">\</span>
	--sequencer.enabled <span class="token punctuation">\</span>
	--sequencer.l1-confs<span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">\</span>
	--verifier.l1-confs<span class="token operator">=</span><span class="token number">4</span> <span class="token punctuation">\</span>
	--rollup.config<span class="token operator">=</span>./rollup.json <span class="token punctuation">\</span>
	--rpc.addr<span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token punctuation">\</span>
	--rpc.port<span class="token operator">=</span><span class="token number">8547</span> <span class="token punctuation">\</span>
	--p2p.disable <span class="token punctuation">\</span>
	--rpc.enable-admin <span class="token punctuation">\</span>
	--p2p.sequencer.key<span class="token operator">=</span><span class="token variable">$GS_SEQUENCER_PRIVATE_KEY</span> <span class="token punctuation">\</span>
	--l1<span class="token operator">=</span><span class="token variable">$L1_RPC_URL</span> <span class="token punctuation">\</span>
	--l1.rpckind<span class="token operator">=</span><span class="token variable">$L1_RPC_KIND</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>运行此命令后，您将开始看到 <code>op-node</code> 开始从 L1 链同步 L2 块。
一旦 <code>op-node</code> 追上了 L1 链的最新块，它将开始将块发送给 <code>op-geth</code> 进行执行。
此时，您将开始在 <code>op-geth</code> 中看到创建的块。</p> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p><strong>默认情况下，您的 <code>op-node</code> 将尝试使用点对点网络加速同步过程。</strong>
如果您使用的是其他人也在使用的链 ID，例如本教程的默认链 ID（42069），您的 <code>op-node</code> 将接收到其他序列器签名的块。
这些请求将失败并浪费时间和网络资源。
<strong>为了避免这种情况，我们在开始时禁用了点对点同步（<code>--p2p.disable</code>）。</strong></p> <p>一旦您拥有多个节点，您可能希望启用点对点同步。
您可以在 <code>op-node</code> 命令中添加以下选项以与特定节点启用点对点同步：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>	--p2p.static=&lt;nodes&gt; \
	--p2p.listen.ip=0.0.0.0 \
	--p2p.listen.tcp=9003 \
	--p2p.listen.udp=9003 \
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>您还可以选择删除 <code>--p2p.static</code> 选项，但是您可能会看到来自使用相同链ID的其他链的请求失败。</p></div> <h2 id="启动-op-batcher"><a href="#启动-op-batcher" class="header-anchor">#</a> 启动 <code>op-batcher</code></h2> <p><code>op-batcher</code> 从序列器获取交易，并将这些交易发布到 L1。
一旦这些序列器交易被包含在一个最终的 L1 块中，它们就正式成为规范链的一部分。
<code>op-batcher</code> 是至关重要的！</p> <p>最好给 <code>Batcher</code> 账户至少 1 个 Sepolia ETH，以确保它可以继续运行而不会因为燃料不足而停止。
请密切关注 <code>Batcher</code> 账户的余额，因为如果有大量交易需要发布，它可能会快速消耗 ETH。</p> <h4 id="_1-打开一个新的终端-3"><a href="#_1-打开一个新的终端-3" class="header-anchor">#</a> 1. 打开一个新的终端</h4> <p>我们需要一个终端窗口来运行 <code>op-batcher</code>。</p> <h4 id="_2-切换到-op-batcher-目录"><a href="#_2-切换到-op-batcher-目录" class="header-anchor">#</a> 2. 切换到 op-batcher 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism/op-batcher
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-运行-op-batcher"><a href="#_3-运行-op-batcher" class="header-anchor">#</a> 3. 运行 op-batcher</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/op-batcher <span class="token punctuation">\</span>
    --l2-eth-rpc<span class="token operator">=</span>http://localhost:8545 <span class="token punctuation">\</span>
    --rollup-rpc<span class="token operator">=</span>http://localhost:8547 <span class="token punctuation">\</span>
    --poll-interval<span class="token operator">=</span>1s <span class="token punctuation">\</span>
    --sub-safety-margin<span class="token operator">=</span><span class="token number">6</span> <span class="token punctuation">\</span>
    --num-confirmations<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    --safe-abort-nonce-too-low-count<span class="token operator">=</span><span class="token number">3</span> <span class="token punctuation">\</span>
    --resubmission-timeout<span class="token operator">=</span>30s <span class="token punctuation">\</span>
    --rpc.addr<span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token punctuation">\</span>
    --rpc.port<span class="token operator">=</span><span class="token number">8548</span> <span class="token punctuation">\</span>
    --rpc.enable-admin <span class="token punctuation">\</span>
    --max-channel-duration<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    --l1-eth-rpc<span class="token operator">=</span><span class="token variable">$L1_RPC_URL</span> <span class="token punctuation">\</span>
    --private-key<span class="token operator">=</span><span class="token variable">$GS_BATCHER_PRIVATE_KEY</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Tips</p> <p><code>--max-channel-duration=n</code> 设置告诉批处理器将所有数据写入 L1 每 <code>n</code> 个 L1 块。
当值较低时，交易频繁写入 L1，其他节点可以快速从 L1 同步。
当值较高时，交易较少频繁写入 L1，批处理器消耗的 ETH 较少。
如果您想降低成本，可以将此值设置为 0 禁用它，或者将其增加到较高的值。</p></div> <h2 id="启动-op-proposer"><a href="#启动-op-proposer" class="header-anchor">#</a> 启动 <code>op-proposer</code></h2> <p>现在启动 <code>op-proposer</code>，它将提议新的状态根。</p> <h4 id="_1-打开一个新的终端-4"><a href="#_1-打开一个新的终端-4" class="header-anchor">#</a> 1. 打开一个新的终端</h4> <p>我们需要一个终端窗口来运行 <code>op-proposer</code>。</p> <h4 id="_2-切换到-op-proposer-目录"><a href="#_2-切换到-op-proposer-目录" class="header-anchor">#</a> 2. 切换到 op-proposer 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism/op-proposer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-运行-op-proposer"><a href="#_3-运行-op-proposer" class="header-anchor">#</a> 3. 运行 op-proposer</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./bin/op-proposer <span class="token punctuation">\</span>
    --poll-interval<span class="token operator">=</span>12s <span class="token punctuation">\</span>
    --rpc.port<span class="token operator">=</span><span class="token number">8560</span> <span class="token punctuation">\</span>
    --rollup-rpc<span class="token operator">=</span>http://localhost:8547 <span class="token punctuation">\</span>
    --l2oo-address<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> <span class="token punctuation">..</span>/packages/contracts-bedrock/deployments/getting-started/L2OutputOracleProxy.json <span class="token operator">|</span> jq -r .address<span class="token variable">)</span></span> <span class="token punctuation">\</span>
    --private-key<span class="token operator">=</span><span class="token variable">$GS_PROPOSER_PRIVATE_KEY</span> <span class="token punctuation">\</span>
    --l1-eth-rpc<span class="token operator">=</span><span class="token variable">$L1_RPC_URL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="连接您的钱包到您的链"><a href="#连接您的钱包到您的链" class="header-anchor">#</a> 连接您的钱包到您的链</h2> <p>您现在拥有一个完全功能的 OP Stack Rollup，其中 Sequencer 节点正在运行在 <code>http://localhost:8545</code>。
您可以像连接其他任何 EVM 链一样将您的钱包连接到这个链上。
如果您需要一个简单的方法来连接到您的链，只需<a href="https://chainid.link?network=opstack-getting-started" target="_blank" rel="noopener noreferrer">点击这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="在您的链上获取-eth"><a href="#在您的链上获取-eth" class="header-anchor">#</a> 在您的链上获取 ETH</h2> <p>一旦您连接了您的钱包，您可能会注意到您的链上没有任何 ETH 来支付燃料费。
将 Sepolia ETH 存入您的链的最简单方法是直接将资金发送到 <code>L1StandardBridge</code> 合约。</p> <h4 id="_1-导航到-contracts-bedrock-目录"><a href="#_1-导航到-contracts-bedrock-目录" class="header-anchor">#</a> 1. 导航到 contracts-bedrock 目录</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/optimism/packages/contracts-bedrock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-获取-l1standardbridgeproxy-合约的地址"><a href="#_2-获取-l1standardbridgeproxy-合约的地址" class="header-anchor">#</a> 2. 获取 L1StandardBridgeProxy 合约的地址</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> deployments/getting-started/L1StandardBridgeProxy.json <span class="token operator">|</span> jq -r .address
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-将一些-sepolia-eth-发送到-l1standardbridgeproxy-合约"><a href="#_3-将一些-sepolia-eth-发送到-l1standardbridgeproxy-合约" class="header-anchor">#</a> 3. 将一些 Sepolia ETH 发送到 L1StandardBridgeProxy 合约</h4> <p>获取 L1 桥接代理合约地址，并使用您希望在 Rollup 上拥有 ETH 的钱包，向该地址发送一小笔 Sepolia ETH（0.1 或更少即可）。
这将触发一笔存款，将在 L2 中铸造 ETH 到您的钱包中。
这可能需要最多 5 分钟，才能在 L2 上的钱包中看到这些 ETH。</p> <h2 id="观察您的-rollup-运行"><a href="#观察您的-rollup-运行" class="header-anchor">#</a> 观察您的 Rollup 运行</h2> <p>您可以像与任何其他 EVM 链交互一样与您的 Rollup 进行交互。
发送一些交易，部署一些合约，看看会发生什么！</p> <h2 id="下一步"><a href="#下一步" class="header-anchor">#</a> 下一步</h2> <ul><li>您可以像使用任何其他测试区块链一样使用此 Rollup。</li> <li>您可以<a href="hacks/overview">以各种方式修改区块链</a>。</li> <li>如果遇到任何问题，请访问<a href="chain-troubleshooting">链操作员故障排除指南</a>寻求帮助。</li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="footer-box"><div class="footer-box-area"><span class="footer-section-header">About this page</span> <ul><li>Updated: 2023年12月3日</li></ul></div> <div class="footer-box-area"><span class="footer-section-header">Contribute</span> <ul><li><a href="https://github.com/ethereum-optimism/stack-docs/edit/main/src/docs/build/getting-started.md" target="_blank" rel="noopener noreferrer"><i class="far fa-pencil"></i> Edit this page
          </a></li> <li><a href="https://github.com/ethereum-optimism/optimism/contribute" target="_blank" rel="noopener noreferrer"><i class="far fa-hands-helping"></i> Contribute to Optimism
          </a></li></ul></div> <div class="footer-box-area"><span class="footer-section-header">Still need help?</span> <ul><li><a href="https://discord.optimism.io" target="_blank" rel="noopener noreferrer"><i class="fab fa-discord"></i> Discord community
          </a></li> <li><a href="https://forms.monday.com/forms/c867f3f357707ff1fb4af0d3d5080710?r=use1" target="_blank" rel="noopener noreferrer"><i class="far fa-comment-dots"></i> Get support for going live
          </a></li></ul></div></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/releases/bedrock/differences/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        Bedrock与L1以太坊之间的差异
      </a></span> <span class="next"><a href="/docs/build/conf/">
        配置
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div> <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-9KLVB8X0ME"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9KLVB8X0ME');
  </script></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.a10c3567.js" defer></script><script src="/assets/js/layout-Layout.203bc08b.js" defer></script><script src="/assets/js/layout-Blog~layout-Layout~layout-NotFound.3f9ea462.js" defer></script><script src="/assets/js/page-快速开始.4118c74c.js" defer></script><script src="/assets/js/vendors~layout-Layout.668d9695.js" defer></script>
  </body>
</html>
