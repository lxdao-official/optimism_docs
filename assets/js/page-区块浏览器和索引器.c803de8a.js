(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{636:function(s,e,a){"use strict";a.r(e);var t=a(2),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("下一步是能够查看您的区块链中实际发生的情况。\n一个简单的方法是使用 "),a("a",{attrs:{href:"https://www.blockscout.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Blockscout"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"先决条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先决条件"}},[s._v("#")]),s._v(" 先决条件")]),s._v(" "),a("h3",{attrs:{id:"存档模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存档模式"}},[s._v("#")]),s._v(" 存档模式")]),s._v(" "),a("p",[s._v("Blockscout 期望与以"),a("a",{attrs:{href:"https://www.alchemy.com/overviews/archive-nodes#archive-nodes",target:"_blank",rel:"noopener noreferrer"}},[s._v("存档模式"),a("OutboundLink")],1),s._v("运行的以太坊执行客户端进行交互。\n如果您的 "),a("code",[s._v("op-geth")]),s._v(" 是以完整模式运行的，您可以创建一个单独的存档节点。\n要这样做，请按照"),a("RouterLink",{attrs:{to:"/docs/build/getting-started.html#adding-nodes"}},[s._v("添加节点的说明")]),s._v("进行操作，但在启动 "),a("code",[s._v("op-geth")]),s._v(" 的命令中替换为：")],1),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\t--gcmode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("full "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("with")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\t--gcmode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("archive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),a("p",[s._v("运行Blockscout最简单的方法是使用Docker。\n下载并安装"),a("a",{attrs:{href:"https://docs.docker.com/engine/install/#server",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker引擎"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"安装和配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装和配置"}},[s._v("#")]),s._v(" 安装和配置")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("克隆 Blockscout 仓库。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/blockscout/blockscout.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" blockscout/docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("根据您所使用的Docker版本，可能会出现环境路径的问题。\n运行以下命令来修复它：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("/envs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("如果以存档模式运行的 "),a("code",[s._v("op-geth")]),s._v(" 在不同的计算机上或端口不是8545，请编辑 "),a("code",[s._v("docker-compose-no-build-geth.yml")]),s._v(" 文件，将 "),a("code",[s._v("ETHEREUM_JSONRPC_HTTP_URL")]),s._v(" 设置为正确的URL。")])]),s._v(" "),a("li",[a("p",[s._v("启动 Blockscout")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker compose -f docker-compose-no-build-geth.yml up\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" 使用方法")]),s._v(" "),a("p",[s._v("在docker容器启动后，浏览到 http://< "),a("em",[s._v("运行Blockscout的计算机")]),s._v(" >:4000 查看用户界面。")]),s._v(" "),a("p",[s._v("您还可以使用"),a("a",{attrs:{href:"https://docs.blockscout.com/for-users/api",target:"_blank",rel:"noopener noreferrer"}},[s._v("API"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"graphql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#graphql"}},[s._v("#")]),s._v(" GraphQL")]),s._v(" "),a("p",[s._v("Blockscout的API支持在"),a("code",[s._v("/graphiql")]),s._v("下使用"),a("a",{attrs:{href:"https://graphql.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GraphQL"),a("OutboundLink")],1),s._v("。\n例如，这个查询查看地址。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('query {\n  addresses(hashes:[\n   "0xcB69A90Aa5311e0e9141a66212489bAfb48b9340", \n   "0xC2dfA7205088179A8644b9fDCecD6d9bED854Cfe"])\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("GraphQL查询从顶层实体（或实体）开始。\n在这种情况下，我们的"),a("a",{attrs:{href:"https://docs.blockscout.com/for-users/api/graphql#queries",target:"_blank",rel:"noopener noreferrer"}},[s._v("顶层查询"),a("OutboundLink")],1),s._v("是针对多个地址的查询。")]),s._v(" "),a("p",[s._v("请注意，您只能查询已建立索引的字段。\n例如，在这里我们查询了地址。\n然而，我们无法查询"),a("code",[s._v("contractCode")]),s._v("或"),a("code",[s._v("fetchedCoinBalance")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" {\n    hash\n    contractCode\n    fetchedCoinBalance\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("上述字段是从地址表中获取的。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    transactions(first:5) {\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("我们还可以获取包含该地址的交易（无论是作为源地址还是目标地址）。\n由于API不允许我们获取无限数量的交易，因此在这里我们只请求了前5个。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("      edges {\n        node {\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("因为这是一个"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)",target:"_blank",rel:"noopener noreferrer"}},[s._v("图"),a("OutboundLink")],1),s._v("，连接两种类型（例如地址和交易）的实体被称为"),a("code",[s._v("边缘")]),s._v("。\n在每个边缘的另一端，有一个单独的"),a("code",[s._v("节点")]),s._v("，代表一个交易。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("          hash\n          fromAddressHash\n          toAddressHash\n          input\n        }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("这些是我们读取每个交易的字段。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("      }\n    }\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("最后，关闭所有的括号。")])])}),[],!1,null,null,null);e.default=n.exports}}]);