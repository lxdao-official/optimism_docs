(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{647:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("ğŸš§ OP Stack Hacks æ˜¯ä¸€äº›å¯ä»¥ä½¿ç”¨ OP Stack è¿›è¡Œçš„æ“ä½œï¼Œç›®å‰å¹¶ä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ")]),s._v(" "),e("p",[s._v("OP Stack Hacks ä¸é€‚åˆæ–°æ‰‹ã€‚æ‚¨å°†æ— æ³•è·å¾—é’ˆå¯¹ OP Stack Hacks çš„é‡è¦å¼€å‘è€…æ”¯æŒ - è¯·å‡†å¤‡å¥½äº²è‡ªåŠ¨æ‰‹å¹¶åœ¨æ²¡æœ‰æ”¯æŒçš„æƒ…å†µä¸‹å·¥ä½œã€‚")])]),s._v(" "),e("p",[s._v("OP Stack åŒºå—é“¾æœ‰è®¸å¤š"),e("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/129032f15b76b0d2a940443a39433de931a97a44/packages/contracts-bedrock/src/constants.ts",target:"_blank",rel:"noopener noreferrer"}},[s._v("é¢„éƒ¨ç½²åˆçº¦"),e("OutboundLink")],1),s._v("ï¼Œæä¾›é‡è¦çš„åŠŸèƒ½ã€‚\nå…¶ä¸­å¤§éƒ¨åˆ†åˆçº¦éƒ½æ˜¯ä»£ç†åˆçº¦ï¼Œå¯ä»¥ä½¿ç”¨åœ¨ç½‘ç»œåˆå§‹éƒ¨ç½²æ—¶é…ç½®çš„ "),e("code",[s._v("proxyAdminOwner")]),s._v(" è¿›è¡Œå‡çº§ã€‚")]),s._v(" "),e("p",[s._v("é¢„éƒ¨ç½²åˆçº¦ç”±åä¸º "),e("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/129032f15b76b0d2a940443a39433de931a97a44/packages/contracts-bedrock/contracts/universal/ProxyAdmin.sol",target:"_blank",rel:"noopener noreferrer"}},[e("code",[s._v("ProxyAdmin")]),e("OutboundLink")],1),s._v(" çš„åˆçº¦æ§åˆ¶ï¼Œå…¶åœ°å€ä¸º "),e("code",[s._v("0x4200000000000000000000000000000000000018")]),s._v("ã€‚\nè¦è°ƒç”¨çš„å‡½æ•°æ˜¯ "),e("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/129032f15b76b0d2a940443a39433de931a97a44/packages/contracts-bedrock/contracts/universal/ProxyAdmin.sol#L205-L229",target:"_blank",rel:"noopener noreferrer"}},[e("code",[s._v("upgrade(address,address)")]),e("OutboundLink")],1),s._v("ã€‚\nç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å‡çº§çš„ä»£ç†åˆçº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–°å®ç°çš„åœ°å€ã€‚")]),s._v(" "),e("p",[s._v("ä¾‹å¦‚ï¼Œæ—§ç‰ˆçš„ "),e("code",[s._v("L1BlockNumber")]),s._v(" åˆçº¦ä½äº "),e("code",[s._v("0x420...013")]),s._v("ã€‚\nä¸ºäº†ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†å®ç°è®¾ç½®ä¸º "),e("code",[s._v("0x00...00")]),s._v("ã€‚\næˆ‘ä»¬ä½¿ç”¨ "),e("a",{attrs:{href:"https://book.getfoundry.sh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Foundry"),e("OutboundLink")],1),s._v(" å‘½ä»¤ "),e("code",[s._v("cast")]),s._v(" æ¥å®Œæˆæ­¤æ“ä½œã€‚")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("æˆ‘ä»¬éœ€è¦å‡ ä¸ªå¸¸é‡ã€‚")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("åœ¨æ‚¨çš„ç»ˆç«¯ä¸­å°†è¿™äº›åœ°å€è®¾ç½®ä¸ºå˜é‡ã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("L1BLOCKNUM")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0x4200000000000000000000000000000000000013\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PROXY_ADMIN")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0x4200000000000000000000000000000000000018\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ZERO_ADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0x0000000000000000000000000000000000000000\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("å°† "),e("code",[s._v("PRIVKEY")]),s._v(" è®¾ç½®ä¸ºæ‚¨çš„ ADMIN è´¦æˆ·çš„ç§é’¥ã€‚")])]),s._v(" "),e("li",[e("p",[s._v("è®¾ç½® "),e("code",[s._v("ETH_RPC_URL")]),s._v("ã€‚å¦‚æœæ‚¨åœ¨è¿è¡ŒåŒºå—é“¾çš„è®¡ç®—æœºä¸Šï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ETH_RPC_URL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://localhost:8545\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("éªŒè¯ "),e("code",[s._v("L1BlockNumber")]),s._v(" æ­£å¸¸å·¥ä½œã€‚\næŸ¥çœ‹è°ƒç”¨åˆçº¦æ—¶æ˜¯å¦è¿”å›ä¸€ä¸ªåŒºå—å·ï¼ŒåäºŒç§’åæ˜¯å¦è¿”å›ä¸‹ä¸€ä¸ªåŒºå—å·ï¼ˆL1ä¸Šçš„åŒºå—æ—¶é—´ä¸ºåäºŒç§’ï¼‰ã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("cast call "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'number()'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cast --to-dec\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" cast call "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'number()'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cast --to-dec\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("è·å–åˆçº¦çš„å½“å‰å®ç°ã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("L1BLOCKNUM_IMPLEMENTATION")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("cast call $L1BLOCKNUM "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"implementation()"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/000000000000000000000000//'")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM_IMPLEMENTATION")]),s._v(" \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("å°†å®ç°æ›´æ”¹ä¸ºé›¶åœ°å€")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("cast send --private-key "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PRIVKEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROXY_ADMIN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upgrade(address,address)"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZERO_ADDR")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("æŸ¥çœ‹å®ç°åœ°å€æ˜¯å¦ä¸ºé›¶ï¼Œå¹¶ä¸”è°ƒç”¨å¤±è´¥ã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("cast call "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'implementation()'")]),s._v("\ncast call "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'number()'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("å°†é¢„éƒ¨ç½²åˆçº¦ä¿®å¤ä¸ºå…ˆå‰çš„å®ç°ï¼Œå¹¶éªŒè¯å…¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("cast send --private-key "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PRIVKEY")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROXY_ADMIN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upgrade(address,address)"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM_IMPLEMENTATION")]),s._v("\ncast call "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$L1BLOCKNUM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'number()'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" cast --to-dec\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);