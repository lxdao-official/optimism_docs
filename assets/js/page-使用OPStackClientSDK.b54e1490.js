(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{640:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"原生支持的链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原生支持的链"}},[s._v("#")]),s._v(" 原生支持的链")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://sdk.optimism.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("OP Stack Client SDK"),a("OutboundLink")],1),s._v(" 原生支持多个 OP 链：OP、Base 等。\n要查看特定的 OP 链是否直接支持，请参阅"),a("a",{attrs:{href:"https://sdk.optimism.io/enums/l2chainid",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"非原生支持的链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非原生支持的链"}},[s._v("#")]),s._v(" 非原生支持的链")]),s._v(" "),a("p",[s._v("如果您正在使用一个"),a("em",[s._v("非")]),s._v("原生支持的链，例如您刚刚创建的 OP Stack 链"),a("RouterLink",{attrs:{to:"/docs/build/getting-started.html"}},[s._v("（参见此处）")]),s._v("，您仍然可以使用"),a("a",{attrs:{href:"https://sdk.optimism.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("OP Stack Client SDK"),a("OutboundLink")],1),s._v("。\n您只需要向 "),a("code",[s._v("CrossDomainMessenger")]),s._v(" 提供一些合约地址，因为它们没有预配置。")],1),s._v(" "),a("h3",{attrs:{id:"获取合约地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取合约地址"}},[s._v("#")]),s._v(" 获取合约地址")]),s._v(" "),a("h4",{attrs:{id:"l1-合约地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#l1-合约地址"}},[s._v("#")]),s._v(" L1 合约地址")]),s._v(" "),a("p",[s._v("如果您按照"),a("RouterLink",{attrs:{to:"/docs/build/getting-started.html"}},[s._v("入门指南")]),s._v("中的说明操作，合约地址位于 "),a("code",[s._v(".../optimism/packages/contracts-bedrock/deployments/getting-started")]),s._v("，这是您部署 L1 合约时创建的。")],1),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("创建 "),a("code",[s._v("CrossDomainMessenger")]),s._v(" 时的合约名称")]),s._v(" "),a("th",[s._v("包含地址的文件")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("AddressManager")])]),s._v(" "),a("td",[a("code",[s._v("Lib_AddressManager.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("L1CrossDomainMessenger")])]),s._v(" "),a("td",[a("code",[s._v("Proxy__OVM_L1CrossDomainMessenger.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("L1StandardBridge")])]),s._v(" "),a("td",[a("code",[s._v("Proxy__OVM_L1StandardBridge.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("OptimismPortal")])]),s._v(" "),a("td",[a("code",[s._v("OptimismPortalProxy.json")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("L2OutputOracle")])]),s._v(" "),a("td",[a("code",[s._v("L2OutputOracleProxy.json")])])])])]),s._v(" "),a("h4",{attrs:{id:"不需要的合约地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不需要的合约地址"}},[s._v("#")]),s._v(" 不需要的合约地址")]),s._v(" "),a("p",[s._v("SDK 需要某些合约作为健全性检查，但实际上并不使用这些合约。\n对于这些合约，您只需指定零地址：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("StateCommitmentChain")])]),s._v(" "),a("li",[a("code",[s._v("CanonicalTransactionChain")])]),s._v(" "),a("li",[a("code",[s._v("BondManager")])])]),s._v(" "),a("p",[s._v("在 JavaScript 中，您可以使用表达式 "),a("code",[s._v('"0x".padEnd(42, "0")')]),s._v(" 创建零地址。")]),s._v(" "),a("h3",{attrs:{id:"crosschainmessenger-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crosschainmessenger-对象"}},[s._v("#")]),s._v(" CrossChainMessenger 对象")]),s._v(" "),a("p",[s._v("这些步骤假设您在"),a("a",{attrs:{href:"https://hardhat.org/hardhat-runner/docs/guides/hardhat-console",target:"_blank",rel:"noopener noreferrer"}},[s._v("Hardhat 控制台"),a("OutboundLink")],1),s._v("中。\n它们进一步假设您的项目已经包含了 Optimism SDK "),a("a",{attrs:{href:"https://www.npmjs.com/package/@eth-optimism/sdk",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("@eth-optimism/sdk")]),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("导入 SDK")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("optimismSDK "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@eth-optimism/sdk"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("设置配置参数。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("变量名")]),s._v(" "),a("th",[s._v("值")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("l1Url")])]),s._v(" "),a("td",[s._v("L1 的 RPC 提供程序的 URL，例如 "),a("code",[s._v("https://eth-goerli.g.alchemy.com/v2/<api key>")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("l2Url")])]),s._v(" "),a("td",[s._v("您的 OP Stack 的 URL。如果在同一台计算机上运行，则为 "),a("code",[s._v("http://localhost:8545")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("privKey")])]),s._v(" "),a("td",[s._v("在 L1 上有一些 ETH 的帐户的私钥")])])])])]),s._v(" "),a("li",[a("p",[s._v("创建"),a("a",{attrs:{href:"https://docs.ethers.org/v5/api/providers/",target:"_blank",rel:"noopener noreferrer"}},[s._v("提供程序"),a("OutboundLink")],1),s._v("和"),a("a",{attrs:{href:"https://docs.ethers.org/v5/api/signer/",target:"_blank",rel:"noopener noreferrer"}},[s._v("签名者"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("l1Provider "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ethers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JsonRpcProvider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nl2Provider "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ethers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("providers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JsonRpcProvider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l2Url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nl1Signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ethers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Wallet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("privKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nl2Signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ethers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Wallet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("privKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l2Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建 L1 合约结构。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("zeroAddr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("padEnd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nl1Contracts "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   StateCommitmentChain"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" zeroAddr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   CanonicalTransactionChain"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" zeroAddr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   BondManager"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" zeroAddr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这些合约具有您之前找到的地址。")]),s._v("\n   AddressManager"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x...."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Lib_AddressManager.json")]),s._v("\n   L1CrossDomainMessenger"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x...."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Proxy__OVM_L1CrossDomainMessenger.json  ")]),s._v("\n   L1StandardBridge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x...."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Proxy__OVM_L1StandardBridge.json")]),s._v("\n   OptimismPortal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x...."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// OptimismPortalProxy.json")]),s._v("\n   L2OutputOracle"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x...."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// L2OutputOracleProxy.json")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                       \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建标准桥接的数据结构。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" bridges "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n   Standard"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n      l1Bridge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" l1Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("L1StandardBridge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      l2Bridge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x4200000000000000000000000000000000000010"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      Adapter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" optimismSDK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("StandardBridgeAdapter\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ETH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      l1Bridge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" l1Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("L1StandardBridge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      l2Bridge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0x4200000000000000000000000000000000000010"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      Adapter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" optimismSDK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ETHBridgeAdapter\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建"),a("a",{attrs:{href:"https://sdk.optimism.io/classes/crosschainmessenger",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("CrossChainMessenger")]),a("OutboundLink")],1),s._v(" 对象。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("crossChainMessenger "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("optimismSDK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CrossChainMessenger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   bedrock"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   contracts"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      l1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" l1Contracts\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   bridges"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" bridges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   l1ChainId"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getChainId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   l2ChainId"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l2Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getChainId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   l1SignerOrProvider"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   l2SignerOrProvider"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" l2Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"验证-sdk-功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证-sdk-功能"}},[s._v("#")]),s._v(" 验证 SDK 功能")]),s._v(" "),a("p",[s._v("为了验证 SDK 的功能，将一些 ETH 从 L1 转移到 L2。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("获取当前余额。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("balances0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l1Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l2Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("转移 1 gwei。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" crossChainMessenger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("depositETH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1e9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrcpt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("获取转移后的余额。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("balances1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l1Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l2Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看 L1 余额是否发生变化（可能远远超过 1 gwei，因为交易的成本）。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("balances0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("balances1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1e9")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看 L2 余额是否发生变化（可能需要几分钟）。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" l2Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l1Signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("balances0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1e9")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);